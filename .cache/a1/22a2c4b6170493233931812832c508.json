{"id":"8hoJ","dependencies":[{"name":"/Users/siruizhu/Documents/GitHub/relics/package.json","includedInParent":true,"mtime":1544483077120},{"name":"./data/architecture_point_completed.geojson","loc":{"line":5,"column":31},"parent":"/Users/siruizhu/Documents/GitHub/relics/src/interactive_map.js","resolved":"/Users/siruizhu/Documents/GitHub/relics/src/data/architecture_point_completed.geojson"}],"generated":{"js":"var e=null,a=35.5,r=105,t=require(\"./data/architecture_point_completed.geojson\"),s=\"pk.eyJ1Ijoiemh1c2lydWkiLCJhIjoiczRLMGhEMCJ9.37GHQC_3mSKufR5ERmXsLw\",o=\"mapbox://styles/zhusirui/cjote0r366qqd2spcea8df8td\";function n(){e.addSource(\"markers-source\",{type:\"geojson\",data:t}),e.addLayer({id:\"markers\",type:\"circle\",source:\"markers-source\",paint:{\"circle-color\":{property:\"classification_en\",type:\"categorical\",stops:[[\"Ancient architecture\",\"#66c2a5\"],[\"Ancient ruins\",\"#fc8d62\"],[\"Historical buildings of modern times\",\"#8da0cb\"],[\"Ancient tomb\",\"#e78ac3\"],[\"Cave temple and stone carving\",\"#a6d854\"],[\"others\",\"#ffd92f\"]]},\"circle-radius\":3.5,\"circle-stroke-width\":.5}});var a=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});e.on(\"mouseenter\",\"markers\",function(r){e.getCanvas().style.cursor=\"default\";var t=r.features[0].geometry.coordinates.slice();r.features[0],r.features[0].properties;title=r.features[0].properties.name_en,era=r.features[0].properties.era_en,address=r.features[0].properties.province_en,type=r.features[0].properties.classification_en;for(var s=\"<div class='g-popup-line-1'>\"+title+\"</div><div class='g-popup-divider'></div><div class='g-popup-line-1-address'>Province: \"+address+\"</div><div class='g-popup-line-1-address'>Type: \"+type+\"</div><div class='g-popup-line-1-address'>Era: \"+era+\"</div></div></div>\";Math.abs(r.lngLat.lng-t[0])>180;)t[0]+=r.lngLat.lng>t[0]?360:-360;a.setLngLat(t).setHTML(s).addTo(e)}),e.on(\"mouseout\",\"markers\",function(){e.getCanvas().style.cursor=\"\",a.remove()})}mapboxgl.accessToken=s,(e=new mapboxgl.Map({container:\"map\",style:o,center:[r,a],zoom:3.3})).once(\"style.load\",function(a){n(),e.addControl(new mapboxgl.NavigationControl);var r=[\"Architecture before 1912\",\"Ruins\",\"Architecture after 1912\",\"Tomb\",\"Cave temple and carving\",\"Others\"],t=[\"#66c2a5\",\"#fc8d62\",\"#8da0cb\",\"#e78ac3\",\"#a6d854\",\"#ffd92f\"];for(i=0;i<r.length;i++){var s=r[i],o=t[i],c=document.createElement(\"div\"),d=document.createElement(\"span\");d.className=\"legend-key\",d.style.backgroundColor=o;var l=document.createElement(\"span\");l.innerHTML=s,c.appendChild(d),c.appendChild(l),legend.appendChild(c)}});","map":{"mappings":[{"source":"interactive_map.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"interactive_map.js","name":"_map","original":{"line":1,"column":4},"generated":{"line":1,"column":4}},{"source":"interactive_map.js","original":{"line":1,"column":19},"generated":{"line":1,"column":6}},{"source":"interactive_map.js","name":"_centerLat","original":{"line":2,"column":8},"generated":{"line":1,"column":11}},{"source":"interactive_map.js","original":{"line":2,"column":23},"generated":{"line":1,"column":13}},{"source":"interactive_map.js","name":"_centerLng","original":{"line":3,"column":8},"generated":{"line":1,"column":18}},{"source":"interactive_map.js","original":{"line":3,"column":23},"generated":{"line":1,"column":20}},{"source":"interactive_map.js","name":"_dataFile","original":{"line":5,"column":8},"generated":{"line":1,"column":24}},{"source":"interactive_map.js","name":"require","original":{"line":5,"column":23},"generated":{"line":1,"column":26}},{"source":"interactive_map.js","original":{"line":5,"column":31},"generated":{"line":1,"column":34}},{"source":"interactive_map.js","name":"_accessToken","original":{"line":6,"column":8},"generated":{"line":1,"column":81}},{"source":"interactive_map.js","original":{"line":6,"column":23},"generated":{"line":1,"column":83}},{"source":"interactive_map.js","name":"_mapStyle","original":{"line":7,"column":8},"generated":{"line":1,"column":152}},{"source":"interactive_map.js","original":{"line":7,"column":23},"generated":{"line":1,"column":154}},{"source":"interactive_map.js","original":{"line":17,"column":4},"generated":{"line":1,"column":207}},{"source":"interactive_map.js","name":"init","original":{"line":17,"column":13},"generated":{"line":1,"column":216}},{"source":"interactive_map.js","name":"_map","original":{"line":19,"column":6},"generated":{"line":1,"column":220}},{"source":"interactive_map.js","name":"addSource","original":{"line":19,"column":11},"generated":{"line":1,"column":222}},{"source":"interactive_map.js","original":{"line":19,"column":22},"generated":{"line":1,"column":232}},{"source":"interactive_map.js","original":{"line":19,"column":40},"generated":{"line":1,"column":249}},{"source":"interactive_map.js","name":"type","original":{"line":20,"column":41},"generated":{"line":1,"column":250}},{"source":"interactive_map.js","original":{"line":20,"column":47},"generated":{"line":1,"column":255}},{"source":"interactive_map.js","name":"data","original":{"line":21,"column":41},"generated":{"line":1,"column":265}},{"source":"interactive_map.js","name":"_dataFile","original":{"line":21,"column":47},"generated":{"line":1,"column":270}},{"source":"interactive_map.js","name":"_map","original":{"line":24,"column":6},"generated":{"line":1,"column":274}},{"source":"interactive_map.js","name":"addLayer","original":{"line":24,"column":11},"generated":{"line":1,"column":276}},{"source":"interactive_map.js","original":{"line":25,"column":6},"generated":{"line":1,"column":285}},{"source":"interactive_map.js","original":{"line":26,"column":14},"generated":{"line":1,"column":286}},{"source":"interactive_map.js","original":{"line":26,"column":14},"generated":{"line":1,"column":289}},{"source":"interactive_map.js","original":{"line":27,"column":16},"generated":{"line":1,"column":299}},{"source":"interactive_map.js","original":{"line":27,"column":16},"generated":{"line":1,"column":304}},{"source":"interactive_map.js","original":{"line":28,"column":18},"generated":{"line":1,"column":313}},{"source":"interactive_map.js","original":{"line":28,"column":18},"generated":{"line":1,"column":320}},{"source":"interactive_map.js","original":{"line":29,"column":17},"generated":{"line":1,"column":337}},{"source":"interactive_map.js","original":{"line":29,"column":17},"generated":{"line":1,"column":343}},{"source":"interactive_map.js","original":{"line":31,"column":18},"generated":{"line":1,"column":344}},{"source":"interactive_map.js","original":{"line":31,"column":18},"generated":{"line":1,"column":359}},{"source":"interactive_map.js","name":"property","original":{"line":32,"column":20},"generated":{"line":1,"column":360}},{"source":"interactive_map.js","original":{"line":32,"column":30},"generated":{"line":1,"column":369}},{"source":"interactive_map.js","name":"type","original":{"line":33,"column":20},"generated":{"line":1,"column":389}},{"source":"interactive_map.js","original":{"line":33,"column":26},"generated":{"line":1,"column":394}},{"source":"interactive_map.js","name":"stops","original":{"line":34,"column":20},"generated":{"line":1,"column":408}},{"source":"interactive_map.js","original":{"line":34,"column":27},"generated":{"line":1,"column":414}},{"source":"interactive_map.js","original":{"line":35,"column":24},"generated":{"line":1,"column":415}},{"source":"interactive_map.js","original":{"line":35,"column":25},"generated":{"line":1,"column":416}},{"source":"interactive_map.js","original":{"line":35,"column":49},"generated":{"line":1,"column":439}},{"source":"interactive_map.js","original":{"line":36,"column":24},"generated":{"line":1,"column":450}},{"source":"interactive_map.js","original":{"line":36,"column":25},"generated":{"line":1,"column":451}},{"source":"interactive_map.js","original":{"line":36,"column":42},"generated":{"line":1,"column":467}},{"source":"interactive_map.js","original":{"line":37,"column":24},"generated":{"line":1,"column":478}},{"source":"interactive_map.js","original":{"line":37,"column":25},"generated":{"line":1,"column":479}},{"source":"interactive_map.js","original":{"line":37,"column":65},"generated":{"line":1,"column":518}},{"source":"interactive_map.js","original":{"line":38,"column":24},"generated":{"line":1,"column":529}},{"source":"interactive_map.js","original":{"line":38,"column":25},"generated":{"line":1,"column":530}},{"source":"interactive_map.js","original":{"line":38,"column":41},"generated":{"line":1,"column":545}},{"source":"interactive_map.js","original":{"line":39,"column":24},"generated":{"line":1,"column":556}},{"source":"interactive_map.js","original":{"line":39,"column":25},"generated":{"line":1,"column":557}},{"source":"interactive_map.js","original":{"line":39,"column":58},"generated":{"line":1,"column":589}},{"source":"interactive_map.js","original":{"line":40,"column":24},"generated":{"line":1,"column":600}},{"source":"interactive_map.js","original":{"line":40,"column":25},"generated":{"line":1,"column":601}},{"source":"interactive_map.js","original":{"line":40,"column":35},"generated":{"line":1,"column":610}},{"source":"interactive_map.js","original":{"line":43,"column":36},"generated":{"line":1,"column":623}},{"source":"interactive_map.js","original":{"line":43,"column":36},"generated":{"line":1,"column":639}},{"source":"interactive_map.js","original":{"line":44,"column":42},"generated":{"line":1,"column":643}},{"source":"interactive_map.js","original":{"line":44,"column":42},"generated":{"line":1,"column":665}},{"source":"interactive_map.js","name":"popup","original":{"line":49,"column":4},"generated":{"line":1,"column":671}},{"source":"interactive_map.js","name":"popup","original":{"line":49,"column":4},"generated":{"line":1,"column":675}},{"source":"interactive_map.js","original":{"line":49,"column":12},"generated":{"line":1,"column":677}},{"source":"interactive_map.js","name":"mapboxgl","original":{"line":49,"column":16},"generated":{"line":1,"column":681}},{"source":"interactive_map.js","name":"Popup","original":{"line":49,"column":25},"generated":{"line":1,"column":690}},{"source":"interactive_map.js","original":{"line":49,"column":31},"generated":{"line":1,"column":696}},{"source":"interactive_map.js","name":"closeButton","original":{"line":50,"column":8},"generated":{"line":1,"column":697}},{"source":"interactive_map.js","original":{"line":50,"column":21},"generated":{"line":1,"column":710}},{"source":"interactive_map.js","name":"closeOnClick","original":{"line":51,"column":8},"generated":{"line":1,"column":712}},{"source":"interactive_map.js","original":{"line":51,"column":22},"generated":{"line":1,"column":726}},{"source":"interactive_map.js","name":"_map","original":{"line":55,"column":5},"generated":{"line":1,"column":730}},{"source":"interactive_map.js","name":"on","original":{"line":55,"column":10},"generated":{"line":1,"column":732}},{"source":"interactive_map.js","original":{"line":55,"column":13},"generated":{"line":1,"column":735}},{"source":"interactive_map.js","original":{"line":55,"column":27},"generated":{"line":1,"column":748}},{"source":"interactive_map.js","original":{"line":55,"column":38},"generated":{"line":1,"column":758}},{"source":"interactive_map.js","name":"e","original":{"line":55,"column":47},"generated":{"line":1,"column":767}},{"source":"interactive_map.js","name":"_map","original":{"line":56,"column":8},"generated":{"line":1,"column":770}},{"source":"interactive_map.js","name":"getCanvas","original":{"line":56,"column":13},"generated":{"line":1,"column":772}},{"source":"interactive_map.js","name":"style","original":{"line":56,"column":25},"generated":{"line":1,"column":784}},{"source":"interactive_map.js","name":"cursor","original":{"line":56,"column":31},"generated":{"line":1,"column":790}},{"source":"interactive_map.js","original":{"line":56,"column":40},"generated":{"line":1,"column":797}},{"source":"interactive_map.js","name":"coordinates","original":{"line":58,"column":12},"generated":{"line":1,"column":807}},{"source":"interactive_map.js","name":"coordinates","original":{"line":58,"column":12},"generated":{"line":1,"column":811}},{"source":"interactive_map.js","name":"e","original":{"line":58,"column":26},"generated":{"line":1,"column":813}},{"source":"interactive_map.js","name":"features","original":{"line":58,"column":28},"generated":{"line":1,"column":815}},{"source":"interactive_map.js","original":{"line":58,"column":37},"generated":{"line":1,"column":824}},{"source":"interactive_map.js","name":"geometry","original":{"line":58,"column":40},"generated":{"line":1,"column":827}},{"source":"interactive_map.js","name":"coordinates","original":{"line":58,"column":49},"generated":{"line":1,"column":836}},{"source":"interactive_map.js","name":"slice","original":{"line":58,"column":61},"generated":{"line":1,"column":848}},{"source":"interactive_map.js","name":"e","original":{"line":59,"column":22},"generated":{"line":1,"column":856}},{"source":"interactive_map.js","name":"features","original":{"line":59,"column":24},"generated":{"line":1,"column":858}},{"source":"interactive_map.js","original":{"line":59,"column":33},"generated":{"line":1,"column":867}},{"source":"interactive_map.js","name":"e","original":{"line":61,"column":21},"generated":{"line":1,"column":870}},{"source":"interactive_map.js","name":"features","original":{"line":61,"column":23},"generated":{"line":1,"column":872}},{"source":"interactive_map.js","original":{"line":61,"column":32},"generated":{"line":1,"column":881}},{"source":"interactive_map.js","name":"properties","original":{"line":61,"column":35},"generated":{"line":1,"column":884}},{"source":"interactive_map.js","name":"title","original":{"line":63,"column":11},"generated":{"line":1,"column":895}},{"source":"interactive_map.js","name":"e","original":{"line":63,"column":19},"generated":{"line":1,"column":901}},{"source":"interactive_map.js","name":"features","original":{"line":63,"column":21},"generated":{"line":1,"column":903}},{"source":"interactive_map.js","original":{"line":63,"column":30},"generated":{"line":1,"column":912}},{"source":"interactive_map.js","name":"properties","original":{"line":63,"column":33},"generated":{"line":1,"column":915}},{"source":"interactive_map.js","name":"name_en","original":{"line":63,"column":44},"generated":{"line":1,"column":926}},{"source":"interactive_map.js","name":"era","original":{"line":65,"column":11},"generated":{"line":1,"column":934}},{"source":"interactive_map.js","name":"e","original":{"line":65,"column":17},"generated":{"line":1,"column":938}},{"source":"interactive_map.js","name":"features","original":{"line":65,"column":19},"generated":{"line":1,"column":940}},{"source":"interactive_map.js","original":{"line":65,"column":28},"generated":{"line":1,"column":949}},{"source":"interactive_map.js","name":"properties","original":{"line":65,"column":31},"generated":{"line":1,"column":952}},{"source":"interactive_map.js","name":"era_en","original":{"line":65,"column":42},"generated":{"line":1,"column":963}},{"source":"interactive_map.js","name":"address","original":{"line":66,"column":11},"generated":{"line":1,"column":970}},{"source":"interactive_map.js","name":"e","original":{"line":66,"column":21},"generated":{"line":1,"column":978}},{"source":"interactive_map.js","name":"features","original":{"line":66,"column":23},"generated":{"line":1,"column":980}},{"source":"interactive_map.js","original":{"line":66,"column":32},"generated":{"line":1,"column":989}},{"source":"interactive_map.js","name":"properties","original":{"line":66,"column":35},"generated":{"line":1,"column":992}},{"source":"interactive_map.js","name":"province_en","original":{"line":66,"column":46},"generated":{"line":1,"column":1003}},{"source":"interactive_map.js","name":"type","original":{"line":67,"column":11},"generated":{"line":1,"column":1015}},{"source":"interactive_map.js","name":"e","original":{"line":67,"column":18},"generated":{"line":1,"column":1020}},{"source":"interactive_map.js","name":"features","original":{"line":67,"column":20},"generated":{"line":1,"column":1022}},{"source":"interactive_map.js","original":{"line":67,"column":29},"generated":{"line":1,"column":1031}},{"source":"interactive_map.js","name":"properties","original":{"line":67,"column":32},"generated":{"line":1,"column":1034}},{"source":"interactive_map.js","name":"classification_en","original":{"line":67,"column":43},"generated":{"line":1,"column":1045}},{"source":"interactive_map.js","name":"Math","original":{"line":89,"column":15},"generated":{"line":1,"column":1063}},{"source":"interactive_map.js","name":"layout","original":{"line":69,"column":12},"generated":{"line":1,"column":1067}},{"source":"interactive_map.js","name":"layout","original":{"line":69,"column":12},"generated":{"line":1,"column":1071}},{"source":"interactive_map.js","original":{"line":69,"column":21},"generated":{"line":1,"column":1073}},{"source":"interactive_map.js","name":"title","original":{"line":69,"column":54},"generated":{"line":1,"column":1104}},{"source":"interactive_map.js","original":{"line":69,"column":62},"generated":{"line":1,"column":1110}},{"source":"interactive_map.js","name":"address","original":{"line":71,"column":77},"generated":{"line":1,"column":1200}},{"source":"interactive_map.js","original":{"line":71,"column":87},"generated":{"line":1,"column":1208}},{"source":"interactive_map.js","name":"type","original":{"line":72,"column":74},"generated":{"line":1,"column":1259}},{"source":"interactive_map.js","original":{"line":72,"column":81},"generated":{"line":1,"column":1264}},{"source":"interactive_map.js","name":"era","original":{"line":73,"column":73},"generated":{"line":1,"column":1314}},{"source":"interactive_map.js","original":{"line":73,"column":79},"generated":{"line":1,"column":1318}},{"source":"interactive_map.js","name":"Math","original":{"line":89,"column":15},"generated":{"line":1,"column":1339}},{"source":"interactive_map.js","name":"abs","original":{"line":89,"column":20},"generated":{"line":1,"column":1344}},{"source":"interactive_map.js","name":"e","original":{"line":89,"column":24},"generated":{"line":1,"column":1348}},{"source":"interactive_map.js","name":"lngLat","original":{"line":89,"column":26},"generated":{"line":1,"column":1350}},{"source":"interactive_map.js","name":"lng","original":{"line":89,"column":33},"generated":{"line":1,"column":1357}},{"source":"interactive_map.js","name":"coordinates","original":{"line":89,"column":39},"generated":{"line":1,"column":1361}},{"source":"interactive_map.js","original":{"line":89,"column":51},"generated":{"line":1,"column":1363}},{"source":"interactive_map.js","original":{"line":89,"column":57},"generated":{"line":1,"column":1367}},{"source":"interactive_map.js","name":"coordinates","original":{"line":90,"column":12},"generated":{"line":1,"column":1372}},{"source":"interactive_map.js","original":{"line":90,"column":24},"generated":{"line":1,"column":1374}},{"source":"interactive_map.js","name":"e","original":{"line":90,"column":30},"generated":{"line":1,"column":1378}},{"source":"interactive_map.js","name":"lngLat","original":{"line":90,"column":32},"generated":{"line":1,"column":1380}},{"source":"interactive_map.js","name":"lng","original":{"line":90,"column":39},"generated":{"line":1,"column":1387}},{"source":"interactive_map.js","name":"coordinates","original":{"line":90,"column":45},"generated":{"line":1,"column":1391}},{"source":"interactive_map.js","original":{"line":90,"column":57},"generated":{"line":1,"column":1393}},{"source":"interactive_map.js","original":{"line":90,"column":62},"generated":{"line":1,"column":1396}},{"source":"interactive_map.js","original":{"line":90,"column":69},"generated":{"line":1,"column":1401}},{"source":"interactive_map.js","name":"popup","original":{"line":94,"column":8},"generated":{"line":1,"column":1405}},{"source":"interactive_map.js","name":"setLngLat","original":{"line":94,"column":14},"generated":{"line":1,"column":1407}},{"source":"interactive_map.js","name":"coordinates","original":{"line":94,"column":24},"generated":{"line":1,"column":1417}},{"source":"interactive_map.js","name":"setHTML","original":{"line":101,"column":11},"generated":{"line":1,"column":1420}},{"source":"interactive_map.js","name":"layout","original":{"line":101,"column":19},"generated":{"line":1,"column":1428}},{"source":"interactive_map.js","name":"addTo","original":{"line":102,"column":11},"generated":{"line":1,"column":1431}},{"source":"interactive_map.js","name":"_map","original":{"line":102,"column":17},"generated":{"line":1,"column":1437}},{"source":"interactive_map.js","name":"_map","original":{"line":110,"column":6},"generated":{"line":1,"column":1442}},{"source":"interactive_map.js","name":"on","original":{"line":110,"column":11},"generated":{"line":1,"column":1444}},{"source":"interactive_map.js","original":{"line":110,"column":14},"generated":{"line":1,"column":1447}},{"source":"interactive_map.js","original":{"line":110,"column":26},"generated":{"line":1,"column":1458}},{"source":"interactive_map.js","original":{"line":110,"column":37},"generated":{"line":1,"column":1468}},{"source":"interactive_map.js","name":"_map","original":{"line":111,"column":8},"generated":{"line":1,"column":1479}},{"source":"interactive_map.js","name":"getCanvas","original":{"line":111,"column":13},"generated":{"line":1,"column":1481}},{"source":"interactive_map.js","name":"style","original":{"line":111,"column":25},"generated":{"line":1,"column":1493}},{"source":"interactive_map.js","name":"cursor","original":{"line":111,"column":31},"generated":{"line":1,"column":1499}},{"source":"interactive_map.js","original":{"line":111,"column":40},"generated":{"line":1,"column":1506}},{"source":"interactive_map.js","name":"popup","original":{"line":112,"column":8},"generated":{"line":1,"column":1509}},{"source":"interactive_map.js","name":"remove","original":{"line":112,"column":14},"generated":{"line":1,"column":1511}},{"source":"interactive_map.js","name":"mapboxgl","original":{"line":9,"column":4},"generated":{"line":1,"column":1522}},{"source":"interactive_map.js","name":"accessToken","original":{"line":9,"column":13},"generated":{"line":1,"column":1531}},{"source":"interactive_map.js","name":"_accessToken","original":{"line":9,"column":27},"generated":{"line":1,"column":1543}},{"source":"interactive_map.js","name":"_map","original":{"line":10,"column":4},"generated":{"line":1,"column":1546}},{"source":"interactive_map.js","original":{"line":10,"column":11},"generated":{"line":1,"column":1548}},{"source":"interactive_map.js","name":"mapboxgl","original":{"line":10,"column":15},"generated":{"line":1,"column":1552}},{"source":"interactive_map.js","name":"Map","original":{"line":10,"column":24},"generated":{"line":1,"column":1561}},{"source":"interactive_map.js","original":{"line":10,"column":29},"generated":{"line":1,"column":1565}},{"source":"interactive_map.js","name":"container","original":{"line":11,"column":31},"generated":{"line":1,"column":1566}},{"source":"interactive_map.js","original":{"line":11,"column":42},"generated":{"line":1,"column":1576}},{"source":"interactive_map.js","name":"style","original":{"line":12,"column":31},"generated":{"line":1,"column":1582}},{"source":"interactive_map.js","name":"_mapStyle","original":{"line":12,"column":38},"generated":{"line":1,"column":1588}},{"source":"interactive_map.js","name":"center","original":{"line":13,"column":31},"generated":{"line":1,"column":1590}},{"source":"interactive_map.js","original":{"line":13,"column":39},"generated":{"line":1,"column":1597}},{"source":"interactive_map.js","name":"_centerLng","original":{"line":13,"column":40},"generated":{"line":1,"column":1598}},{"source":"interactive_map.js","name":"_centerLat","original":{"line":13,"column":52},"generated":{"line":1,"column":1600}},{"source":"interactive_map.js","name":"zoom","original":{"line":14,"column":31},"generated":{"line":1,"column":1603}},{"source":"interactive_map.js","original":{"line":14,"column":37},"generated":{"line":1,"column":1608}},{"source":"interactive_map.js","name":"once","original":{"line":116,"column":9},"generated":{"line":1,"column":1615}},{"source":"interactive_map.js","original":{"line":116,"column":15},"generated":{"line":1,"column":1620}},{"source":"interactive_map.js","original":{"line":116,"column":29},"generated":{"line":1,"column":1633}},{"source":"interactive_map.js","name":"e","original":{"line":116,"column":39},"generated":{"line":1,"column":1642}},{"source":"interactive_map.js","name":"init","original":{"line":118,"column":6},"generated":{"line":1,"column":1645}},{"source":"interactive_map.js","name":"_map","original":{"line":119,"column":6},"generated":{"line":1,"column":1649}},{"source":"interactive_map.js","name":"addControl","original":{"line":119,"column":11},"generated":{"line":1,"column":1651}},{"source":"interactive_map.js","original":{"line":119,"column":23},"generated":{"line":1,"column":1662}},{"source":"interactive_map.js","name":"mapboxgl","original":{"line":119,"column":27},"generated":{"line":1,"column":1666}},{"source":"interactive_map.js","name":"NavigationControl","original":{"line":119,"column":36},"generated":{"line":1,"column":1675}},{"source":"interactive_map.js","name":"layers","original":{"line":122,"column":8},"generated":{"line":1,"column":1694}},{"source":"interactive_map.js","name":"layers","original":{"line":122,"column":8},"generated":{"line":1,"column":1698}},{"source":"interactive_map.js","original":{"line":122,"column":17},"generated":{"line":1,"column":1700}},{"source":"interactive_map.js","original":{"line":122,"column":18},"generated":{"line":1,"column":1701}},{"source":"interactive_map.js","original":{"line":122,"column":46},"generated":{"line":1,"column":1728}},{"source":"interactive_map.js","original":{"line":122,"column":55},"generated":{"line":1,"column":1736}},{"source":"interactive_map.js","original":{"line":123,"column":17},"generated":{"line":1,"column":1762}},{"source":"interactive_map.js","original":{"line":123,"column":25},"generated":{"line":1,"column":1769}},{"source":"interactive_map.js","original":{"line":123,"column":51},"generated":{"line":1,"column":1795}},{"source":"interactive_map.js","name":"colors","original":{"line":124,"column":8},"generated":{"line":1,"column":1805}},{"source":"interactive_map.js","original":{"line":124,"column":17},"generated":{"line":1,"column":1807}},{"source":"interactive_map.js","original":{"line":124,"column":18},"generated":{"line":1,"column":1808}},{"source":"interactive_map.js","original":{"line":124,"column":29},"generated":{"line":1,"column":1818}},{"source":"interactive_map.js","original":{"line":124,"column":40},"generated":{"line":1,"column":1828}},{"source":"interactive_map.js","original":{"line":124,"column":51},"generated":{"line":1,"column":1838}},{"source":"interactive_map.js","original":{"line":124,"column":62},"generated":{"line":1,"column":1848}},{"source":"interactive_map.js","original":{"line":124,"column":73},"generated":{"line":1,"column":1858}},{"source":"interactive_map.js","name":"i","original":{"line":126,"column":9},"generated":{"line":1,"column":1869}},{"source":"interactive_map.js","name":"i","original":{"line":126,"column":9},"generated":{"line":1,"column":1873}},{"source":"interactive_map.js","original":{"line":126,"column":13},"generated":{"line":1,"column":1875}},{"source":"interactive_map.js","name":"i","original":{"line":126,"column":16},"generated":{"line":1,"column":1877}},{"source":"interactive_map.js","name":"layers","original":{"line":126,"column":20},"generated":{"line":1,"column":1879}},{"source":"interactive_map.js","name":"length","original":{"line":126,"column":27},"generated":{"line":1,"column":1881}},{"source":"interactive_map.js","name":"i","original":{"line":126,"column":35},"generated":{"line":1,"column":1888}},{"source":"interactive_map.js","original":{"line":126,"column":40},"generated":{"line":1,"column":1892}},{"source":"interactive_map.js","name":"layer","original":{"line":127,"column":10},"generated":{"line":1,"column":1893}},{"source":"interactive_map.js","name":"layer","original":{"line":127,"column":10},"generated":{"line":1,"column":1897}},{"source":"interactive_map.js","name":"layers","original":{"line":127,"column":18},"generated":{"line":1,"column":1899}},{"source":"interactive_map.js","name":"i","original":{"line":127,"column":25},"generated":{"line":1,"column":1901}},{"source":"interactive_map.js","name":"color","original":{"line":128,"column":10},"generated":{"line":1,"column":1904}},{"source":"interactive_map.js","name":"colors","original":{"line":128,"column":18},"generated":{"line":1,"column":1906}},{"source":"interactive_map.js","name":"i","original":{"line":128,"column":25},"generated":{"line":1,"column":1908}},{"source":"interactive_map.js","name":"item","original":{"line":129,"column":10},"generated":{"line":1,"column":1911}},{"source":"interactive_map.js","name":"document","original":{"line":129,"column":17},"generated":{"line":1,"column":1913}},{"source":"interactive_map.js","name":"createElement","original":{"line":129,"column":26},"generated":{"line":1,"column":1922}},{"source":"interactive_map.js","original":{"line":129,"column":40},"generated":{"line":1,"column":1936}},{"source":"interactive_map.js","name":"key","original":{"line":130,"column":10},"generated":{"line":1,"column":1943}},{"source":"interactive_map.js","name":"document","original":{"line":130,"column":16},"generated":{"line":1,"column":1945}},{"source":"interactive_map.js","name":"createElement","original":{"line":130,"column":25},"generated":{"line":1,"column":1954}},{"source":"interactive_map.js","original":{"line":130,"column":39},"generated":{"line":1,"column":1968}},{"source":"interactive_map.js","name":"key","original":{"line":131,"column":6},"generated":{"line":1,"column":1976}},{"source":"interactive_map.js","name":"className","original":{"line":131,"column":10},"generated":{"line":1,"column":1978}},{"source":"interactive_map.js","original":{"line":131,"column":22},"generated":{"line":1,"column":1988}},{"source":"interactive_map.js","name":"key","original":{"line":132,"column":6},"generated":{"line":1,"column":2001}},{"source":"interactive_map.js","name":"style","original":{"line":132,"column":10},"generated":{"line":1,"column":2003}},{"source":"interactive_map.js","name":"backgroundColor","original":{"line":132,"column":16},"generated":{"line":1,"column":2009}},{"source":"interactive_map.js","name":"color","original":{"line":132,"column":34},"generated":{"line":1,"column":2025}},{"source":"interactive_map.js","name":"value","original":{"line":133,"column":10},"generated":{"line":1,"column":2027}},{"source":"interactive_map.js","name":"value","original":{"line":133,"column":10},"generated":{"line":1,"column":2031}},{"source":"interactive_map.js","name":"document","original":{"line":133,"column":18},"generated":{"line":1,"column":2033}},{"source":"interactive_map.js","name":"createElement","original":{"line":133,"column":27},"generated":{"line":1,"column":2042}},{"source":"interactive_map.js","original":{"line":133,"column":41},"generated":{"line":1,"column":2056}},{"source":"interactive_map.js","name":"value","original":{"line":134,"column":6},"generated":{"line":1,"column":2064}},{"source":"interactive_map.js","name":"innerHTML","original":{"line":134,"column":12},"generated":{"line":1,"column":2066}},{"source":"interactive_map.js","name":"layer","original":{"line":134,"column":24},"generated":{"line":1,"column":2076}},{"source":"interactive_map.js","name":"item","original":{"line":135,"column":6},"generated":{"line":1,"column":2078}},{"source":"interactive_map.js","name":"appendChild","original":{"line":135,"column":11},"generated":{"line":1,"column":2080}},{"source":"interactive_map.js","name":"key","original":{"line":135,"column":23},"generated":{"line":1,"column":2092}},{"source":"interactive_map.js","name":"item","original":{"line":136,"column":6},"generated":{"line":1,"column":2095}},{"source":"interactive_map.js","name":"appendChild","original":{"line":136,"column":11},"generated":{"line":1,"column":2097}},{"source":"interactive_map.js","name":"value","original":{"line":136,"column":23},"generated":{"line":1,"column":2109}},{"source":"interactive_map.js","name":"legend","original":{"line":137,"column":6},"generated":{"line":1,"column":2112}},{"source":"interactive_map.js","name":"appendChild","original":{"line":137,"column":13},"generated":{"line":1,"column":2119}},{"source":"interactive_map.js","name":"item","original":{"line":137,"column":25},"generated":{"line":1,"column":2131}}],"sources":{"interactive_map.js":"var _map         = null,\n        _centerLat   = 35.5,\n        _centerLng   = 105,\n\n        _dataFile    = require('./data/architecture_point_completed.geojson'),\n        _accessToken = \"pk.eyJ1Ijoiemh1c2lydWkiLCJhIjoiczRLMGhEMCJ9.37GHQC_3mSKufR5ERmXsLw\",\n        _mapStyle    = \"mapbox://styles/zhusirui/cjote0r366qqd2spcea8df8td\";\n\n    mapboxgl.accessToken = _accessToken;\n    _map = new mapboxgl.Map ({\n                               container: \"map\",\n                               style: _mapStyle,\n                               center: [_centerLng, _centerLat],\n                               zoom: 3.3\n    });\n\n    function init ()\n    {\n      _map.addSource (\"markers-source\", {\n                                         type: \"geojson\",\n                                         data: _dataFile\n      });\n\n      _map.addLayer (\n      {\n        \"id\": \"markers\",\n        \"type\": \"circle\",\n        \"source\": \"markers-source\",\n        \"paint\": {\n                  \"circle-color\":\n                  {\n                    property: \"classification_en\",\n                    type: \"categorical\",\n                    stops: [\n                        ['Ancient architecture', \"#66c2a5\"], \n                        ['Ancient ruins', \"#fc8d62\"], \n                        ['Historical buildings of modern times', \"#8da0cb\"], \n                        ['Ancient tomb', \"#e78ac3\"], \n                        ['Cave temple and stone carving', \"#a6d854\"], \n                        ['others', \"#ffd92f\"] \n                    ]\n                    },\n                   \"circle-radius\": 3.5,\n                   \"circle-stroke-width\": 0.5\n                 }\n         });\n\n// change the click to hover    \nvar popup = new mapboxgl.Popup({\n        closeButton: false,\n        closeOnClick: false\n      });\n\n\n     _map.on('mouseenter', 'markers', function(e) {\n        _map.getCanvas().style.cursor = \"default\";\n\n        var coordinates = e.features[0].geometry.coordinates.slice();\n        var feature = e.features[0]\n        \n        var detail = e.features[0].properties\n        // console.log('Detail is', detail)\n           title = e.features[0].properties.name_en\n        // console.log('Title is', title)\n           era = e.features[0].properties.era_en\n           address = e.features[0].properties.province_en\n           type = e.features[0].properties.classification_en\n\n        var layout = \"<div class='g-popup-line-1'>\" + title + \"</div>\" + \n                     \"<div class='g-popup-divider'></div>\" +\n                     \"<div class='g-popup-line-1-address'>\" + 'Province: ' + address + \"</div>\" + \n                      \"<div class='g-popup-line-1-address'>\" + 'Type: ' + type + \"</div>\" + \n                      \"<div class='g-popup-line-1-address'>\" + 'Era: ' + era + \"</div>\" + \n                      \"</div></div>\"\n        //               \"<div class='g-popup-line-2' style='width: 50%;'>RESIDENTS PER:</div>\" + \n        //               \"<div class='g-popup-line-2' style='width: 25%; text-align: right;'>AIDE</div>\" + \n        //               \"<div class='g-popup-line-2' style='width: 25%; text-align: right;'>NURSE</div>\" +\n        //               \"<div class='g-popup-divider'></div>\" +\n        //               \"<div class='.g-popup-line-container'><div class='g-popup-line-3' style='width: 50%;'>Best days</div>\" + \n        //               \"<div class='g-popup-line-3' style='width: 25%; text-align: right; font-weight: 700;'>\" + bestDayAide + \"</div>\" + \n        //               \"<div class='g-popup-line-3' style='width: 25%; text-align: right; font-weight: 700;'>\" + bestDayNurse + \"</div></div>\" +\n        //               \"<div class='.g-popup-line-container'><div class='g-popup-line-3' style='width: 50%;'>Worst days</div>\" + \n        //               \"<div class='g-popup-line-3' style='width: 25%; text-align: right; font-weight: 700;'>\" + worstDayAide + \"</div>\" + \n        //               \"<div class='g-popup-line-3' style='width: 25%; text-align: right; font-weight: 700;'>\" + worstDayNurse + \"</div></div>\";\n\n\n\n\n        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n        }\n        // .setLngLat(_map.unproject(e.point))\n        // console.log(feature)\n        popup.setLngLat(coordinates)\n          // .setHTML(\"<h4>Relics Information</h4>\" + \n          //                     \"<table>\" + \"<tr>\" + \n          //                     \"<th>Relics Classification\" + \"</th>\" + \"<th>Relics Era\" + \"</th>\" + \"<th>Relics Detail\" + \"</th>\" + \"</tr>\" + \"<tr>\" + \n          //                     \"<td>\" + feature.properties.classification_en + \"</td>\" + \"<td>\" + feature.properties.era_en + \"</td>\" + \"<td>\" + feature.properties.add_detail + \"</td>\" + \"</tr>\" + \n          //                     \"</table>\"\n          //                    )\n          .setHTML(layout)\n          .addTo(_map);\n\n            // _map.getSource(\"highlight\").setData({ \"type\":\"circle\",\n            //                                       \"coordinates\": coordinates\n            //                                       });\n            // _map.setLayoutProperty(\"highlight\", \"visibility\", \"visible\");\n      });\n\n      _map.on('mouseout', 'markers', function() {\n        _map.getCanvas().style.cursor = '';\n        popup.remove();\n    });\n    }\n\n    _map.once (\"style.load\", function (e)\n    {\n      init ();\n      _map.addControl (new mapboxgl.NavigationControl ());\n\n\n    var layers = ['Architecture before 1912', 'Ruins', 'Architecture after 1912',\n                 'Tomb', 'Cave temple and carving','Others'];\n    var colors = [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\", \"#ffd92f\"];\n\n    for (i = 0; i < layers.length; i++) {\n      var layer = layers[i];\n      var color = colors[i];\n      var item = document.createElement('div');\n      var key = document.createElement('span');\n      key.className = 'legend-key';\n      key.style.backgroundColor = color;\n      var value = document.createElement('span');\n      value.innerHTML = layer;\n      item.appendChild(key);\n      item.appendChild(value);\n      legend.appendChild(item);\n    }\n\n\n    });"},"lineCount":null}},"hash":"fdde92151f3ac4e3b3333b3a2d06af6b","cacheData":{"env":{}}}